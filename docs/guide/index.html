<script>
  // Set your real health endpoint here (only edit this line if needed)
  const API_BASE = "https://cogmyra-api.onrender.com";
  const HEALTH_PATH = "/health";          // e.g. "/api/healthz" or "/v1/health"

  const out = document.getElementById('out');
  document.getElementById('pingBtn').onclick = async () => {
    out.textContent = 'Pingingâ€¦';
    const url = API_BASE.replace(/\/$/,'') + HEALTH_PATH;
    try {
      const res = await fetch(url, { mode: 'cors' });
      const ct = res.headers.get('content-type') || '';
      const body = ct.includes('application/json') ? JSON.stringify(await res.json(), null, 2)
                                                   : await res.text();
      out.textContent = `GET ${url}\nStatus: ${res.status}\n\n${body}`;
    } catch (e) {
      out.textContent = `Request failed: ${url}\n\n${e && e.message ? e.message : String(e)}`;
    }
  };
</script>
